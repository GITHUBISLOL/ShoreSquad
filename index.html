<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Rally your crew, track weather, and hit the next beach cleanup with ShoreSquad!"
    />
    <meta name="theme-color" content="#0066CC" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />

    <title>ShoreSquad - Beach Cleanup Crew</title>

    <!-- CSS -->
    <link rel="stylesheet" href="css/styles.css" />

    <!-- Leaflet Map Library (lightweight) -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.min.css"
    />

    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://api.openweathermap.org" />
    <link rel="preconnect" href="https://unpkg.com" />
  </head>
  <body>
    <!-- Navigation Header -->
    <header class="header">
      <div class="header-content">
        <div class="logo-section">
          <h1 class="logo">ğŸŒŠ ShoreSquad</h1>
          <p class="tagline">Rally your crew, track weather, clean beaches</p>
        </div>
        <nav class="nav-main">
          <button class="nav-btn active" data-view="map" aria-label="Map View">
            <span class="icon">ğŸ—ºï¸</span>
            <span class="label">Map</span>
          </button>
          <button class="nav-btn" data-view="crew" aria-label="Crew View">
            <span class="icon">ğŸ‘¥</span>
            <span class="label">Crew</span>
          </button>
          <button class="nav-btn" data-view="profile" aria-label="Profile View">
            <span class="icon">ğŸ‘¤</span>
            <span class="label">Profile</span>
          </button>
        </nav>
      </div>
    </header>

    <!-- Main Container -->
    <main class="container">
      <!-- Map View -->
      <section id="map-view" class="view active">
        <div class="map-header">
          <h2>Find Beach Cleanups Near You</h2>
          <div class="weather-widget">
            <span id="weather-icon" class="weather-icon">â˜€ï¸</span>
            <span id="weather-temp">Loading...</span>
            <span id="weather-condition">Weather</span>
          </div>
        </div>

        <!-- 4-Day Weather Forecast -->
        <div class="forecast-section">
          <h3>4-Day Weather Forecast</h3>
          <div id="forecast-container" class="forecast-grid">
            <div class="forecast-card skeleton">
              <div class="forecast-date">Loading...</div>
              <div class="forecast-icon">ğŸŒ¤ï¸</div>
              <div class="forecast-condition">Loading...</div>
              <div class="forecast-temps">
                <span class="temp-low">--Â°C</span>
                <span class="temp-high">--Â°C</span>
              </div>
              <div class="forecast-details">
                <span class="humidity">ğŸ’§ --%</span>
                <span class="wind">ğŸ’¨ - m/s</span>
              </div>
            </div>
          </div>
          <p id="forecast-update" class="forecast-timestamp">
            Last updated: Loading...
          </p>
        </div>

        <!-- Next Cleanup Spotlight -->
        <div class="next-cleanup-spotlight">
          <div class="spotlight-header">
            <span class="spotlight-badge">ğŸ¯ Next Cleanup</span>
            <h3>Pasir Ris Beach Cleanup</h3>
          </div>
          <p class="spotlight-description">Street View Asia - Pasir Ris</p>
          <p class="spotlight-coords">ğŸ“ 1.381497, 103.955574</p>

          <!-- Google Maps Iframe -->
          <iframe
            class="google-maps-embed"
            src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d1971.6378450537166!2d103.955574!3d1.381497!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sen!2ssg!4v1701388800000!5m2!1sen!2ssg"
            style="border: 0"
            allowfullscreen=""
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
            title="Next Cleanup Location - Pasir Ris Beach"
            aria-label="Google Map showing next cleanup location at Pasir Ris"
          ></iframe>

          <button id="join-next-cleanup-btn" class="btn btn-accent full-width">
            ğŸŒŠ Join This Cleanup
          </button>
        </div>

        <div
          id="map"
          class="map-container"
          role="region"
          aria-label="Interactive map showing nearby beach cleanups"
        ></div>

        <div class="map-controls">
          <button
            id="locate-btn"
            class="btn btn-primary"
            aria-label="Find my location"
          >
            ğŸ“ My Location
          </button>
          <button
            id="create-event-btn"
            class="btn btn-accent"
            aria-label="Create a new cleanup event"
          >
            â• Start Cleanup
          </button>
        </div>
      </section>

      <!-- Crew View -->
      <section id="crew-view" class="view">
        <div class="crew-header">
          <h2>Your Crew</h2>
          <button
            id="invite-crew-btn"
            class="btn btn-secondary"
            aria-label="Invite friends to your crew"
          >
            Invite
          </button>
        </div>

        <div id="crew-list" class="crew-list">
          <p class="placeholder">No crew members yet. Start your squad!</p>
        </div>

        <div class="crew-stats">
          <div class="stat-card">
            <h3>Cleanups Done</h3>
            <p class="stat-value" id="cleanup-count">0</p>
          </div>
          <div class="stat-card">
            <h3>Total Impact</h3>
            <p class="stat-value" id="impact-count">0 kg</p>
          </div>
          <div class="stat-card">
            <h3>Team Streak</h3>
            <p class="stat-value" id="streak-count">0 days</p>
          </div>
        </div>
      </section>

      <!-- Profile View - Account Settings -->
      <section id="profile-view" class="view">
        <!-- Page Header -->
        <div class="page-header">
          <h1>Account Settings</h1>
        </div>

        <!-- Tab Navigation -->
        <div class="tabs-nav">
          <button
            class="tab-btn active"
            data-tab="account-settings"
            aria-label="Account Settings"
          >
            Account Settings
          </button>
          <button
            class="tab-btn"
            data-tab="discussions"
            aria-label="Discussions"
          >
            Discussions
          </button>
        </div>

        <!-- Tab Content: Account Settings -->
        <div id="account-settings" class="tab-content active">
          <!-- Font Settings -->
          <div class="settings-block">
            <h2>Font Settings</h2>

            <div class="setting-item-group">
              <label for="font-size" class="setting-label">Font Size</label>
              <select id="font-size" class="font-select">
                <option value="small">Small</option>
                <option value="medium" selected>Medium</option>
                <option value="large">Large</option>
                <option value="x-large">X-Large</option>
              </select>
            </div>

            <div class="font-preview">
              <p>The quick brown fox jumps over the lazy dog.</p>
            </div>
          </div>

          <!-- Reading Content -->
          <div class="settings-block">
            <h2>Reading Content</h2>
            <p class="setting-description">
              Some tools automatically mark content as read as you scroll it
              into view. If you use an assistive technology such as a screen
              reader then you may wish to disable this feature by ticking the
              box below.
            </p>

            <label class="checkbox-item">
              <input type="checkbox" id="auto-mark-read" />
              <span
                >Do not automatically mark items as read as the page
                scrolls</span
              >
            </label>
          </div>

          <!-- Video Settings -->
          <div class="settings-block">
            <h2>Video Settings</h2>
            <p class="setting-description">
              This setting ensures that assistive technologies can detect
              videos. As a consequence, videos will overlap menus. It does not
              influence the accessibility of specific players.
            </p>

            <label class="checkbox-item">
              <input type="checkbox" id="video-overlap" />
              <span
                >Optimise video presentation for programmatically driven
                assistive technologies</span
              >
            </label>
          </div>

          <!-- Notifications Setting -->
          <div class="settings-block">
            <h2>Notifications</h2>
            <label class="checkbox-item">
              <input type="checkbox" id="notifications-toggle" checked />
              <span>Enable Notifications</span>
            </label>
          </div>

          <!-- Location Sharing -->
          <div class="settings-block">
            <h2>Location & Privacy</h2>
            <label class="checkbox-item">
              <input type="checkbox" id="location-toggle" checked />
              <span>Share Location with Crew</span>
            </label>
          </div>

          <!-- Data Management -->
          <div class="settings-block">
            <h2>Data Management</h2>
            <button id="export-data-btn" class="btn btn-secondary">
              ğŸ“¥ Download My Data
            </button>
          </div>

          <!-- Profile Info -->
          <div class="settings-block">
            <h2>Profile Information</h2>
            <div class="profile-info">
              <div class="profile-avatar" id="profile-avatar">ğŸ„</div>
              <div class="profile-details">
                <h3 id="profile-name">Shore Explorer</h3>
                <p id="profile-bio">Beach cleanup enthusiast</p>
              </div>
            </div>

            <div class="profile-stats-compact">
              <div class="stat">
                <span class="stat-label">Cleanups Done</span>
                <span class="stat-value" id="cleanup-count">0</span>
              </div>
              <div class="stat">
                <span class="stat-label">Total Impact</span>
                <span class="stat-value" id="impact-count">0 kg</span>
              </div>
              <div class="stat">
                <span class="stat-label">Team Streak</span>
                <span class="stat-value" id="streak-count">0 days</span>
              </div>
            </div>
          </div>

          <!-- Achievements -->
          <div class="settings-block">
            <h2>Achievements</h2>
            <div class="badges-list">
              <div class="badge-compact">
                <span class="badge-icon">ğŸŒŠ</span>
                <span>Wave Rider</span>
              </div>
              <div class="badge-compact">
                <span class="badge-icon">ğŸŒ±</span>
                <span>Eco Warrior</span>
              </div>
              <div class="badge-compact">
                <span class="badge-icon">ğŸ…</span>
                <span>Team Player</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Tab Content: Discussions -->
        <div id="discussions" class="tab-content">
          <div class="settings-block">
            <h2>Discussions</h2>
            <p class="setting-description">
              Your discussion threads and community conversations will appear
              here. Join the conversation and share your beach cleanup ideas
              with the ShoreSquad community!
            </p>
            <div style="text-align: center; padding: 3rem 0; color: #999">
              <p style="font-size: 1.1rem">
                No discussions yet. Start one today! ğŸ’¬
              </p>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Modal for Event Creation -->
    <div id="event-modal" class="modal hidden">
      <div class="modal-content">
        <button class="modal-close" aria-label="Close modal">&times;</button>
        <h2>Start a Beach Cleanup</h2>

        <form id="event-form">
          <div class="form-group">
            <label for="event-name">Event Name</label>
            <input
              type="text"
              id="event-name"
              placeholder="e.g., Marina Cleanup"
              required
            />
          </div>

          <div class="form-group">
            <label for="event-date">Date & Time</label>
            <input type="datetime-local" id="event-date" required />
          </div>

          <div class="form-group">
            <label for="event-location">Beach Location</label>
            <input
              type="text"
              id="event-location"
              placeholder="e.g., Santa Monica Beach"
              required
            />
          </div>

          <div class="form-group">
            <label for="event-description">Description</label>
            <textarea
              id="event-description"
              placeholder="What's the vibe?"
              rows="3"
            ></textarea>
          </div>

          <div class="form-group">
            <label for="event-max-people">Max People</label>
            <input
              type="number"
              id="event-max-people"
              min="2"
              max="500"
              value="10"
            />
          </div>

          <button type="submit" class="btn btn-primary full-width">
            Create Event ğŸ‰
          </button>
          <button
            type="button"
            class="btn btn-secondary full-width"
            id="event-cancel"
          >
            Cancel
          </button>
        </form>
      </div>
    </div>

    <!-- Notification Container -->
    <div
      id="notification-container"
      class="notification-container"
      role="region"
      aria-live="polite"
      aria-atomic="true"
    ></div>

    <!-- JavaScript -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.min.js"></script>
    <script src="js/app.js"></script>

    <!-- PWA Service Worker -->
    <script>
      if ("serviceWorker" in navigator) {
        navigator.serviceWorker
          .register("sw.js")
          .catch((err) => console.log("SW registration failed"));
      }
    </script>
  </body>
</html>
